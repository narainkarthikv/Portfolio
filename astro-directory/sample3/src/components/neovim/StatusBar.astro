<div id="status-bar" class="bg-nvim-statusline text-nvim-fg h-6 px-2 flex items-center justify-between text-sm">
  <div id="mode" class="w-20">NORMAL</div>
  <div id="command-line" class="flex-1 ml-2"></div>
  <div id="file-info" class="mr-2">Last Updated: {new Date().toDateString()} /</div>
  <div id="position">1:1</div>
</div>

<script>
  function initStatusBar() {
    const statusBar = {
      mode: document.getElementById('mode'),
      commandLine: document.getElementById('command-line'),
      fileInfo: document.getElementById('file-info'),
      position: document.getElementById('position'),
    };

    function updateStatusBar(
      mode: string | undefined,
      commandLine: string | undefined,
      fileInfo: string | undefined,
      position: string | undefined
    ) {
      if (mode !== undefined) statusBar.mode!.textContent = mode;
      if (commandLine !== undefined) statusBar.commandLine!.textContent = commandLine;
      if (fileInfo !== undefined) statusBar.fileInfo!.textContent = fileInfo;
      if (position !== undefined) statusBar.position!.textContent = position;
    }

    // Expose updateStatusBar to the global scope
    window.updateStatusBar = updateStatusBar;
  }

  // Run the initialization when the DOM is fully loaded
  document.addEventListener('DOMContentLoaded', initStatusBar);
</script>

<style>
  #status-bar {
    width: 100%;
    position: fixed;
    bottom: 0;
    z-index: 1000;
  }
</style>
